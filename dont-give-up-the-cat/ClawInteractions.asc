// new module script
int clawable_graphics[];
export clawable_graphics;
  
void _init_clawable_array()
{
  clawable_graphics = new int[CLAWABLE_GRAPHICS_COUNT];
  clawable_graphics[0] = SPR_TREE_BIG;
  clawable_graphics[1] = SPR_TREE_SMALL;
  clawable_graphics[2] = SPR_FLOWER_0;
  clawable_graphics[3] = SPR_FLOWER_1;
  clawable_graphics[4] = SPR_FLOWER_2;
  clawable_graphics[5] = SPR_FLOWER_BLUE_0;
  clawable_graphics[6] = SPR_FLOWER_BLUE_1;
  clawable_graphics[7] = SPR_GRAVE_HOUSE;
  clawable_graphics[8] = SPR_GRAVE_FLOWERS;
  clawable_graphics[9] = SPR_GRAVE_STONES;
}

Mode7Object* clawn_object(Mode7Object* obj)
{
  if(obj != null && obj.Visible) 
  {
    claw_success();    
    int new_gfx = ObjSpriteAsClawed(obj.Graphic);
    
    if(new_gfx > 0) {
      obj.Graphic = new_gfx;
      return null;
    }
    
    return obj;
  }
  return null;
}

void game_start()
{
  _init_clawable_array();
}